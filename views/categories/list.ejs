


<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Categories
    </h1>
    
</section>

<!-- Main content -->
<section class="content">
    
    
    <p>
        <a href="/categories/create" class="btn btn-success">Add New</a>
    </p>
    <table class="table table-bordered" id="categoriesTable">
        
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Icon</th>
                <th>Parent</th>
                <th>Action</th>
            </tr>
        </thead>
        
        <tbody>
            <!-- data coming from server -->
        </tbody>
        
    </table>
    
</section>
</section>
<script>
    
    $("#categoriesTable").DataTable({
        "processing": false,
        "serverSide": false,
        "ajax": {
            "url": "/categories/getData",
            "type": "POST",
            "dataSrc":"data"
        },
      
        "columnDefs":[
        {
            
            "targets":2,
            "data":"icon",
            "render" : function ( url, type, data) {
                return '<img  width="50px" src="/uploads/categories/'+data['icon']+'"/>';
            }
        },
        {
            "targets":4,
            "data":"id",
            "render": function (data, type, row, meta){
                var msg = "Are you sure to delete ?";
                return '<a href="/categories/'+data+'/edit" class="btn btn-info btn-sm">Edit</a>'+
                '<a href="/categories/'+data+'/delete" onclick="return confirm(msg);" class="btn btn-danger btn-sm">Delete</a>';
            }
        }
        ],
        columns: [ 
        { data : "id" },
        { data : "title" },
        { data : "icon" },
        { data : "parent_id"},
        { data : "id"}
        ]
        
    });
    
</script>